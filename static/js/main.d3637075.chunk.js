(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(19),c=a.n(i),r=(a(26),a(4)),l=a(8),o=a(11),u=a(10),d=a(0),b=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("span",{className:"text-muted",children:"N\xe3o tenho ideia do que colocar aqui!"})})})}}]),a}(n.Component),h=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)("header",{children:Object(d.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:Object(d.jsx)("div",{children:Object(d.jsx)("h1",{className:"navbar-brand",children:"Crud em React JS"})})})})})}}]),a}(n.Component),j=a(9),m=function e(t,a,n,s){Object(r.a)(this,e),this.id=t,this.nome=a,this.album=n,this.artista=s},O=function e(t,a,n){Object(r.a)(this,e),this.id=t,this.titulo=a,this.anoLancamento=n},v=function e(t,a,n){Object(r.a)(this,e),this.id=t,this.nome=a,this.genero=n},x=new(function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"testeAjax",value:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&200===this.status&&(document.getElementById("demo").innerHTML=this.responseText)},e.open("GET","https://jsonplaceholder.typicode.com/todos/1",!0),e.send()}},{key:"retrieveById",value:function(e,t){var a=new v(1,"Red Hot Chili Peppers","Funky-Rock-Punky-Indie"),n=new O(1,"Stadium Arcadium",2006),s=new m(1,"Dani California",n,a),i=(new v(2,"Blink-182","Punk-Rock-Pop-Indie"),new O(4,"Enema of State",1999),new m(4,"All The Small things",n,a));return"1"===e?s:i}},{key:"retriveMusicas",value:function(){var e=new v(1,"Red Hot Chili Peppers","Funky-Rock-Punky-Indie"),t=new O(1,"Stadium Arcadium",2006),a=new m(1,"Dani California",t,e),n=new v(2,"Blink-182","Punk-Rock-Pop-Indie"),s=new O(4,"Enema of State",1999);return[a,new m(4,"All The Small things",s,n)]}},{key:"createMusica",value:function(e){}},{key:"retrieveAlbumsByArtista",value:function(e){var t=new O(1,"Blood Sugar Sex Magik",1991),a=new O(2,"Californication",1999),n=new O(3,"Stadium Arcadium",2006),s=new O(4,"Enema of State",1999),i=new O(5,"California",2016);return 1===e.id?[t,a,n]:2===e.id?[s,i]:"Sem albuns cadastrados"}}]),e}()),p=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={musicas:[]},n.addMusica=n.addMusica.bind(Object(j.a)(n)),n.editMusica=n.editMusica.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({musicas:x.retriveMusicas()})}},{key:"addMusica",value:function(){this.props.history.push("/musicas/create")}},{key:"editMusica",value:function(e){this.props.history.push("/musicas/edit/".concat(e))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"text-center",children:"Lista de M\xfasicas"}),Object(d.jsx)("div",{className:"text-right",children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:this.addMusica,children:"Adicionar M\xfasica"})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"#"}),Object(d.jsx)("th",{children:"M\xfasica"}),Object(d.jsx)("th",{children:"Album"}),Object(d.jsx)("th",{children:"Artista"}),Object(d.jsx)("th",{children:"A\xe7\xf5es"})]})}),Object(d.jsx)("tbody",{children:this.state.musicas.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.state.musicas.indexOf(t)+1}),Object(d.jsx)("td",{children:t.nome}),Object(d.jsx)("td",{children:t.album.titulo}),Object(d.jsx)("td",{children:t.artista.nome}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return e.editMusica(t.id)},className:"btn btn-info",children:"Editar"})})]},t.id)}))})]})})]})}}]),a}(n.Component),f=a(20),k=a(2),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).salvarMusica=function(e){e.preventDefault();var t={nome:n.state.nomeMusica,artista:n.state.artista,album:n.state.album};console.log(t),console.log(n.state.id),x.createMusica(t)},n.handleChangeMusica=function(e){n.setState({nomeMusica:e.target.value})},n.handleChangeCmbArtista=function(e){var t="";""!=e.target.value&&(t=x.retrieveAlbumsByArtista(JSON.parse(e.target.value))),n.state.albuns=t,n.setState({artista:e.target.value,albuns:t,album:t[0]})},n.handleChangeCmbAlbum=function(e){n.setState({album:e.target.value})},n.state={id:n.props.match.params.id,nomeMusica:"",artista:"",album:"",artistas:[],albuns:[]},n.handleChangeMusica=n.handleChangeMusica.bind(Object(j.a)(n)),n.handleChangeCmbArtista=n.handleChangeCmbArtista.bind(Object(j.a)(n)),n.handleChangeCmbAlbum=n.handleChangeCmbAlbum.bind(Object(j.a)(n)),n.salvarMusica=n.salvarMusica.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.state.id){var e=[{id:1,nome:"Red Hot Chili Peppers",genero:"Funky-Rock-Punky-Indie"},{id:2,nome:"Blink-182",genero:"Punk-Rock-Pop"}],t=x.retrieveAlbumsByArtista(e[0]);this.setState({artistas:e,artista:e[0],albuns:t,album:t[0]})}else{var a=x.retrieveById(this.state.id,"Musica"),n=x.retrieveAlbumsByArtista(a.artista);console.log(a.artista),this.setState({nomeMusica:a.nome,artistas:[{id:1,nome:"Red Hot Chili Peppers",genero:"Funky-Rock-Punky-Indie"},{id:2,nome:"Blink-182",genero:"Punk-Rock-Pop"}],artista:a.artista,albuns:n,album:a.album})}}},{key:"cancel",value:function(){this.props.history.push("/musicas")}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"card col-md-6 offset-md-3 offset-md-3",children:[Object(d.jsx)("br",{}),Object(d.jsx)("h3",{className:"text-center",children:"Adicionar M\xfasica"}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"M\xfasica "}),Object(d.jsx)("input",{placeholder:"Nome da m\xfasica",name:"nomeMusica",className:"form-control",value:this.state.nomeMusica,onChange:this.handleChangeMusica}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Artista "}),Object(d.jsx)("select",{className:"form-control",value:this.state.artista,onChange:this.handleChangeCmbArtista,children:this.state.artistas.map((function(e){return Object(d.jsx)("option",{value:JSON.stringify(e),children:e.nome},e.id)}))}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Album "}),Object(d.jsx)("select",{className:"form-control",value:this.state.album,onChange:this.handleChangeCmbAlbum,children:this.state.albuns.map((function(e){return Object(d.jsx)("option",{value:JSON.stringify(e),children:e.titulo},e.id)}))})]}),Object(d.jsx)("button",{className:"btn btn-success",onClick:this.salvarMusica,children:"Salvar"}),Object(d.jsx)("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"},children:"Cancelar"})]})})]})})})]})}}]),a}(n.Component);var g=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)(f.a,{basename:"/crud-react",children:[Object(d.jsx)(h,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)(k.c,{children:[Object(d.jsx)(k.a,{exact:!0,path:["/","/musicas"],component:p}),Object(d.jsx)(k.a,{path:"/musicas/create",component:y}),Object(d.jsx)(k.a,{path:"/musicas/edit/:id",component:y})]})}),Object(d.jsx)(b,{})]})})};a(33);c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("app"))}},[[34,1,2]]]);
//# sourceMappingURL=main.d3637075.chunk.js.map