{"version":3,"sources":["components/Footer.tsx","components/Header.tsx","services/ArtistaService.ts","services/MusicaService.ts","components/MusicaCad.tsx","components/MusicaFilter.tsx","App.tsx","index.tsx"],"names":["Footer","Header","className","PATH","SERVER","axios","get","idArtista","musica","post","id","delete","MusicaCad","props","match","params","history","useHistory","useState","nomeMusica","setNomeMusica","artistaId","setArtistaId","albumId","setAlbumId","artistas","setArtistas","albums","setAlbuns","loadAlbums","ArtistaService","retrieveAlbumsByArtista","then","resAlbuns","data","useEffect","MusicaService","retrieveMusicaById","resMusicas","nome","album","artista","retrieveArtistas","resArtistas","placeholder","name","value","onChange","event","target","Number","map","titulo","onClick","find","alb","art","createMusica","response","status","goBack","alert","push","MusicaFilter","musicas","setMusicas","length","retriveMusicas","res","sort","a","b","type","indexOf","color","title","deleteMusica","filter","e","catch","exception","console","log","href","App","basename","process","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.250200ca.chunk.js","sourcesContent":["import '../styles/components/Footer.css';\n\nexport function Footer() {\n  return (\n    <footer>      \n      <span> Não tenho ideia do que colocar aqui! </span>\n    </footer>\n  );\n}\n\n\n","import '../styles/components/Header.css';\n\nexport function Header() {\n  return (\n    <header>\n      <div className=\"logoContainer\">\n        <strong>Crud em React JS </strong>\n      </div>\n    </header>\n  );\n}","import axios from \"axios\";\n\nconst SERVER = \"https://crud-reactbackend.herokuapp.com\";\nconst PATH = SERVER + '/artistas';\nclass ArtistaService {\n\n    retrieveArtistas() {\n        return axios.get(PATH);\n    }\n\n    retrieveAlbumsByArtista(idArtista: number) {\n        return axios.get(`${PATH}/${idArtista}/albums`);\n    }\n}\n\nexport default new ArtistaService();","import axios from \"axios\";\nimport { Musica } from \"../model/Musica\";\n\nconst SERVER = \"https://crud-reactbackend.herokuapp.com\";\nconst PATH = SERVER + '/musicas';\nclass MusicaService {\n\n    createMusica(musica: Musica) {\n        return axios.post(PATH, musica);\n    }\n\n    retrieveMusicaById(id: number) {\n        return axios.get(`${PATH}/${id}`);\n    }\n\n    retriveMusicas() {\n        return axios.get(PATH);\n    }\n\n    deleteMusica(id: number) {\n        return axios.delete(`${PATH}/${id}`)\n    }\n}\n\nexport default new MusicaService();","import { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Album } from '../model/Album';\nimport { Artista } from '../model/Artista';\nimport { Musica } from '../model/Musica';\nimport ArtistaService from '../services/ArtistaService';\nimport MusicaService from '../services/MusicaService';\nimport '../styles/components/MusicaCad.css';\n\nexport function MusicaCad(props: any) {\n  const { match: { params: { id } } } = props;\n  const history = useHistory();\n  const [nomeMusica, setNomeMusica] = useState('');\n  const [artistaId, setArtistaId] = useState<number>();\n  const [albumId, setAlbumId] = useState<number>();\n  const [artistas, setArtistas] = useState<Artista[]>([]);\n  const [albums, setAlbuns] = useState<Album[]>([]);\n\n\n  useEffect(() => {\n    if (id) {\n      MusicaService.retrieveMusicaById(id).then((resMusicas) => {\n        setNomeMusica(resMusicas.data.nome);\n        setAlbumId(resMusicas.data.album.id);\n        setArtistaId(resMusicas.data.artista.id);\n        loadAlbums(resMusicas.data.artista.id);\n        ArtistaService.retrieveArtistas().then((resArtistas) => {\n          setArtistas(resArtistas.data);\n        });\n      });\n    } else {\n      ArtistaService.retrieveArtistas().then((resArtistas) => {\n        setArtistas(resArtistas.data);\n        setArtistaId(resArtistas.data[0].id);\n        loadAlbums(resArtistas.data[0].id);\n      });\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (artistaId) {\n      loadAlbums(artistaId);\n    }\n  }, [artistaId]);\n\n  function loadAlbums(artistaId: number) {\n    ArtistaService.retrieveAlbumsByArtista(artistaId).then((resAlbuns) => {\n      setAlbuns(resAlbuns.data);\n      setAlbumId(resAlbuns.data[0].id);\n    });\n  }\n\n  function saveMusica() {\n    let musica: Musica = {\n      id: id,\n      nome: nomeMusica,\n      album: albums.find(alb => alb.id! === albumId)!,\n      artista: artistas.find(art => art.id! === artistaId)!\n    };\n\n    MusicaService.createMusica(musica).then((response) => {\n      response.status === 200 ? history.goBack() : alert('Falha ao salvar!');\n    });\n  }\n\n  function cancel() {\n    history.push('/musicas');\n  }\n\n  return (\n    <div className={\"container\"}>\n      <div className={\"box\"}>\n        <div className={\"formCad\"}>\n          <h2>Cadastro</h2>\n          <label> Música </label>\n          <input placeholder=\"Nome da música\" name=\"nomeMusica\" value={nomeMusica}\n            onChange={event => setNomeMusica(event.target.value)} />\n          <br />\n          <label> Artista </label>\n          <select name=\"cmbArtista\" value={artistaId} onChange={event => setArtistaId(Number(event.target.value))}>\n            {artistas.map(artista =>\n              <option key={artista.id} value={artista.id}>{artista.nome}</option>\n            )}\n          </select>\n          <br />\n          <label> Album </label>\n          <select name=\"cmbAlbum\" value={albumId} onChange={event => setAlbumId(Number(event.target.value))}>\n            {albums.map(album =>\n              <option key={album.id} value={album.id}>{album.titulo}</option>\n            )}\n          </select>\n          <br />\n          <div className=\"formButtons\">\n            <button onClick={saveMusica}> Salvar </button>\n            <button onClick={cancel}> Cancelar </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useEffect, useState } from 'react';\nimport { FaEdit, FaPlusCircle, FaTrash } from 'react-icons/fa';\nimport { useHistory } from 'react-router';\nimport { Musica } from '../model/Musica';\nimport MusicaService from '../services/MusicaService';\nimport '../styles/components/MusicaFilter.css';\n\nexport function MusicaFilter() {\n  const history = useHistory();\n  const [musicas, setMusicas] = useState<Musica[]>([]);\n\n  useEffect(() => {\n    if (musicas.length === 0) {\n      MusicaService.retriveMusicas().then((res) => {\n        setMusicas(res.data);\n      });\n    }\n  });\n\n  sortMusicas(musicas);\n\n  function addMusica() {\n    history.push('/musicas/create');\n  }\n\n  function editMusica(id: number) {\n    history.push(`/musicas/edit/${id}`);\n  }\n\n  function deleteMusica(id: number) {\n    MusicaService.deleteMusica(id).then(() => {\n      setMusicas(musicas.filter(e => e.id !== id));\n    }).catch(exception => {\n      alert(\"Não foi possível remover esta música!\");\n      console.log(exception);\n    });\n  }\n\n  function sortMusicas(m: Musica[]) {\n    m.sort((a, b) => {\n      if (a.artista.nome === b.artista.nome) {\n        return 0;\n      }\n      if (a.artista.nome > b.artista.nome) {\n        return 1;\n      }\n      return -1;\n    });\n  }\n\n  return (\n    <div className={\"containerTable\"}>\n      <div className={\"tableTitle\"}>\n        <div className={\"row\"}>\n          <div className={\"title\"}> Músicas </div>\n          <button onClick={addMusica}>\n            <FaPlusCircle type=\"button\" className=\"iconButton\" />Adicionar Música\n          </button>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Música</th>\n            <th>Album</th>\n            <th>Artista</th>\n            <th>Ações</th>\n          </tr>\n        </thead>\n        <tbody>\n          {musicas.map(\n            musica =>\n              <tr key={musica.id}>\n                <td>{musicas.indexOf(musica) + 1}</td>\n                <td>{musica.nome}</td>\n                <td>{musica.album.titulo}</td>\n                <td>{musica.artista.nome}</td>\n                <td>\n                  <FaEdit color=\"green\" title=\"Editar\"\n                    className={\"iconButton\"}\n                    onClick={() => editMusica(musica.id!)}\n                  />\n                  <FaTrash color=\"red\" title=\"Excluir\"\n                    className={\"iconButton\"}\n                    onClick={() => deleteMusica(musica.id!)}\n                  />\n                </td>\n              </tr>\n          )}\n        </tbody>\n      </table>\n      <div className={\"tableBottom\"}>\n        <div className={\"hintText\"}>5 de 25 resultados</div>\n        <ul className={\"pagination\"}>\n          <li className={\"pageItem\"}><a className={\"pageLink\"} href=\"##\"> Anterior</a></li>\n          <li className=\"pageItem active\"><a href=\"##\" className={\"pageLink\"}>1</a></li>\n          <li className={\"pageItem\"}><a href=\"##\" className={\"pageLink\"}>2</a></li>\n          <li className={\"pageItem\"}><a href=\"##\" className={\"pageLink\"}>3</a></li>\n          <li className={\"pageItem\"}><a href=\"##\" className={\"pageLink\"}>4</a></li>\n          <li className={\"pageItem\"}><a href=\"##\" className={\"pageLink\"}>5</a></li>\n          <li className={\"pageItem\"}><a href=\"##\" className={\"pageLink\"}>Próximo</a></li>\n        </ul>\n      </div>\n    </div>\n  );\n}","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { MusicaCad } from './components/MusicaCad';\nimport { MusicaFilter } from './components/MusicaFilter';\nimport './styles/global.css';\n\nfunction App() {\n  const basename = process.env.NODE_ENV === 'development' ?\n    '' : process.env.PUBLIC_URL;\n  return (\n    <div className=\"pageContainer\">\n      <Header />\n      <div className=\"contentWrap\">\n        <Router basename={basename}>\n          <Switch>\n            <Route exact path={[\"/\", \"/musicas\"]} component={MusicaFilter} />\n            <Route path=\"/musicas/create\" component={MusicaCad} />\n            <Route path=\"/musicas/edit/:id\" component={MusicaCad} />\n          </Switch>\n        </Router>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('app')\n);\n"],"sourceRoot":""}