(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{35:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},57:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(28),n=c.n(a),i=c(30),s=c(2),r=(c(35),c(0));function j(){return Object(r.jsx)("footer",{children:Object(r.jsx)("span",{children:" N\xe3o tenho ideia do que colocar aqui! "})})}c(37);function l(){return Object(r.jsx)("header",{children:Object(r.jsx)("div",{className:"logoContainer",children:Object(r.jsx)("strong",{children:"Crud em React JS "})})})}var u=c(6),o=c(1),d=c.p+"static/media/spinner.222a80ed.gif",b=(c(38),function(){return Object(r.jsx)("div",{className:"fpContainer",children:Object(r.jsx)("img",{src:d,className:"fpLoader",alt:"loading"})})}),h=function(){var e=Object(o.useState)(!0),t=Object(u.a)(e,2),c=t[0],a=t[1];return[c?Object(r.jsx)(b,{}):Object(r.jsx)("div",{style:{display:"none"}}),function(){return a(!0)},function(){return a(!1)}]},O=c(12),m=c(13),x=c(9),f=c.n(x),p="https://crud-reactbackend.herokuapp.com/artistas",v=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"retrieveArtistas",value:function(){return f.a.get(p)}},{key:"retrieveAlbumsByArtista",value:function(e){return f.a.get("".concat(p,"/").concat(e,"/albums"))}}]),e}()),N="https://crud-reactbackend.herokuapp.com/musicas",g=new(function(){function e(){Object(O.a)(this,e)}return Object(m.a)(e,[{key:"createMusica",value:function(e){return f.a.post(N,e)}},{key:"retrieveMusicaById",value:function(e){return f.a.get("".concat(N,"/").concat(e))}},{key:"retriveMusicas",value:function(){return f.a.get(N)}},{key:"deleteMusica",value:function(e){return f.a.delete("".concat(N,"/").concat(e))}}]),e}());c(57);function k(e){var t=e.match.params.id,c=Object(s.f)(),a=Object(o.useState)(""),n=Object(u.a)(a,2),i=n[0],j=n[1],l=Object(o.useState)(),d=Object(u.a)(l,2),b=d[0],O=d[1],m=Object(o.useState)(),x=Object(u.a)(m,2),f=x[0],p=x[1],N=Object(o.useState)([]),k=Object(u.a)(N,2),y=k[0],A=k[1],C=Object(o.useState)([]),M=Object(u.a)(C,2),B=M[0],I=M[1],S=h(),L=Object(u.a)(S,3),E=L[0],w=L[1],J=L[2];function T(e){v.retrieveAlbumsByArtista(e).then((function(e){I(e.data),p(e.data[0].id),J()}))}return Object(o.useEffect)((function(){w(),t?g.retrieveMusicaById(t).then((function(e){j(e.data.nome),p(e.data.album.id),O(e.data.artista.id),T(e.data.artista.id),v.retrieveArtistas().then((function(e){A(e.data)}))})):v.retrieveArtistas().then((function(e){A(e.data),O(e.data[0].id),T(e.data[0].id)}))}),[t]),Object(o.useEffect)((function(){b&&T(b)}),[b]),Object(r.jsxs)("div",{className:"container",children:[E,Object(r.jsx)("div",{className:"box",children:Object(r.jsxs)("div",{className:"formCad",children:[Object(r.jsx)("h2",{children:"Cadastro"}),Object(r.jsx)("label",{children:" M\xfasica "}),Object(r.jsx)("input",{placeholder:"Nome da m\xfasica",name:"nomeMusica",value:i,onChange:function(e){return j(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:" Artista "}),Object(r.jsx)("select",{name:"cmbArtista",value:b,onChange:function(e){return O(Number(e.target.value))},children:y.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.nome},e.id)}))}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:" Album "}),Object(r.jsx)("select",{name:"cmbAlbum",value:f,onChange:function(e){return p(Number(e.target.value))},children:B.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.titulo},e.id)}))}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"formButtons",children:[Object(r.jsx)("button",{onClick:function(){var e={id:t,nome:i,album:B.find((function(e){return e.id===f})),artista:y.find((function(e){return e.id===b}))};g.createMusica(e).then((function(e){200===e.status?c.goBack():alert("Falha ao salvar!")}))},children:" Salvar "}),Object(r.jsx)("button",{onClick:function(){c.push("/musicas")},children:" Cancelar "})]})]})})]})}var y=c(14);c(63);function A(){var e=Object(s.f)(),t=Object(o.useState)([]),c=Object(u.a)(t,2),a=c[0],n=c[1],i=h(),j=Object(u.a)(i,3),l=j[0],d=j[1],b=j[2],O=Object(o.useState)("none"),m=Object(u.a)(O,2),x=m[0],f=m[1];return Object(o.useEffect)((function(){d(),g.retriveMusicas().then((function(e){n(e.data),b(),f("block")}))}),[]),a.sort((function(e,t){return e.artista.nome===t.artista.nome?0:e.artista.nome>t.artista.nome?1:-1})),Object(r.jsxs)("div",{children:[l,Object(r.jsxs)("div",{className:"containerTable",style:{display:x},children:[Object(r.jsx)("div",{className:"tableTitle",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"title",children:" M\xfasicas "}),Object(r.jsxs)("button",{onClick:function(){e.push("/musicas/create")},children:[Object(r.jsx)(y.b,{type:"button",className:"iconButton"}),"Adicionar M\xfasica"]})]})}),Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"#"}),Object(r.jsx)("th",{children:"M\xfasica"}),Object(r.jsx)("th",{children:"Album"}),Object(r.jsx)("th",{children:"Artista"}),Object(r.jsx)("th",{children:"A\xe7\xf5es"})]})}),Object(r.jsx)("tbody",{children:a.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:a.indexOf(t)+1}),Object(r.jsx)("td",{children:t.nome}),Object(r.jsx)("td",{children:t.album.titulo}),Object(r.jsx)("td",{children:t.artista.nome}),Object(r.jsxs)("td",{children:[Object(r.jsx)(y.a,{color:"green",title:"Editar",className:"iconButton",onClick:function(){return c=t.id,void e.push("/musicas/edit/".concat(c));var c}}),Object(r.jsx)(y.c,{color:"red",title:"Excluir",className:"iconButton",onClick:function(){return e=t.id,void g.deleteMusica(e).then((function(){n(a.filter((function(t){return t.id!==e})))})).catch((function(e){alert("N\xe3o foi poss\xedvel remover esta m\xfasica!"),console.log(e)}));var e}})]})]},t.id)}))})]}),Object(r.jsxs)("div",{className:"tableBottom",children:[Object(r.jsx)("div",{className:"hintText",children:"5 de 25 resultados"}),Object(r.jsxs)("ul",{className:"pagination",children:[Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{className:"pageLink",href:"##",children:" Anterior"})}),Object(r.jsx)("li",{className:"pageItem active",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"1"})}),Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"2"})}),Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"3"})}),Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"4"})}),Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"5"})}),Object(r.jsx)("li",{className:"pageItem",children:Object(r.jsx)("a",{href:"##",className:"pageLink",children:"Pr\xf3ximo"})})]})]})]})]})}c(64);var C=function(){return Object(r.jsxs)("div",{className:"pageContainer",children:[Object(r.jsx)(l,{}),Object(r.jsx)("div",{className:"contentWrap",children:Object(r.jsx)(i.a,{basename:"/crud-react-frontend",children:Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{exact:!0,path:["/","/musicas"],component:A}),Object(r.jsx)(s.a,{path:"/musicas/create",component:k}),Object(r.jsx)(s.a,{path:"/musicas/edit/:id",component:k})]})})}),Object(r.jsx)(j,{})]})};n.a.render(Object(r.jsx)(C,{}),document.getElementById("app"))}},[[65,1,2]]]);
//# sourceMappingURL=main.2fcc7b56.chunk.js.map